---
title: "D6 Geo Database"
description: |
  This webpage provides a quick look-up source for geospatial data available for studies at the IZW Department of Ecological Dynamics.
site: distill::distill_website
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```


```{r}
library(tidyverse)
# get_rmds <- function(x){
#   origin <- unlist(stringi::stri_split(x, regex = "_"))[2]
#   year <- unlist(stringi::stri_split(x, regex = "_"))[3]
#   
#   paste0("* [", origin, " (", year, ")](/d6geodatabase/reports/", 
#                gsub(pattern = ".rmd", replacement = ".html", x = x), ")")
# }
# 
# get_origins <- lapply(list.files(here::here(), pattern = ".rmd$"), 
#                   function(x){
#                  unlist(stringi::stri_split(x, regex = "_"))[2]   
#   }) %>% unlist() %>% unique()

####

data_table <- do.call(rbind, lapply(list.files(here::here(), pattern = , ".rmd$"), 
                     function(x){
  tibble(path = x) %>% 
  dplyr::mutate(what = unlist(stringi::stri_split(path, regex = "_"))[1],
    origin = unlist(stringi::stri_split(path, regex = "_"))[2],
                year = unlist(stringi::stri_split(path, regex = "_"))[3]) %>% 
  dplyr::mutate(link = paste0("* [", origin, " (", year, ")](/d6geodatabase/reports/",
               gsub(pattern = ".rmd", replacement = ".html", x = path), ")"))
  }))


# header is missing, has to build automatically for all origins. Maybe use differnt tables for that, nested in a big function

unlist(lapply(unique(data_table$origin), function(x){
  
  tab <- data_table %>%
    filter(origin %in% x) 
  
  paste0("<details><summary>", tab$origin ,"</summary>",
         tab %>% dplyr::select(link))
    


}))
```

`r unlist(lapply(unique(data_table$origin), function(x){
  tab <- data_table %>% 
    filter(origin %in% x)
  
  distill_tab <- tibble()
  paste0("* [", tab$what, " (", tab$year, ")](/d6geodatabase/reports/", 
               gsub(pattern = ".rmd", replacement = ".html", x = tab$path), ")")
    
}))`


<details><summary>Worldwide</summary>

* [motorways (2022)](/d6geodatabase/reports/motorways_germany_2022_03035_osm_tif.html)
* another data source
* yet another data source
    
</details>


<details><summary><b>Europe</b></summary>

* [motorways (2022)](/d6geodatabase/reports/motorways_germany_2022_03035_osm_tif.html)
* another data source
* yet another data source

</details>


<details><summary><b>Germany</b></summary>

* [motorways (2022)](/d6geodatabase/reports/motorways_germany_2022_03035_osm_tif.html)
* another data source
* yet another data source

</details>


<details><summary><b>Berlin & Brandenburg</b></summary>

* [motorways (2022)](/d6geodatabase/reports/motorways_germany_2022_03035_osm_tif.html)
* another data source
* yet another data source

</details>




## Contact {.appendix}

Department Lead: Prof. Dr. S. Kramer-Schadt  
Deputy Lead: Dr. Andreas Wilting  
Geo Data Manager: Moritz Wenzler-Meya
<a href="mailto:wenzler@izw-berlin.de">wenzler[at]izw-berlin.de</a>  

## Address {.appendix}

Leibniz Institute for Zoo and Wildlife Research  
Department of Ecological Dynamics  
Alfred-Kowalke-Str. 17  
D-10315 Berlin, Germany 
